{"openapi":"3.1.0","info":{"title":"Upcast environmental API","summary":"First version of the environmental plugin","termsOfService":"http://upcast.com/terms/","contact":{"name":"","url":"https://ceadar.ie/","email":"XXX.XXXX@ucd.ie"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0.html"},"version":"0.0.1"},"paths":{"/computes/environmentalProfile":{"post":{"tags":["Dataset computation"],"summary":"Compute Energy Profile","description":"This enpoint computes the DB storage and/or the data processing workflow(DPW) energy profile.","operationId":"compute_energy_profile_computes_environmentalProfile_post","parameters":[{"name":"profileType","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/ProfileType"}],"default":"FULL","title":"Profiletype"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RessourceC"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnergyProfile"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/estimates/environmentalProfile":{"post":{"tags":["Dataset estimates"],"summary":"Estimate Energy Profile","description":"This enpoint estimates the DB storage and/or the data processing workflow(DPW) energy profile.","operationId":"estimate_energy_profile_estimates_environmentalProfile_post","parameters":[{"name":"profileType","in":"query","required":false,"schema":{"allOf":[{"$ref":"#/components/schemas/ProfileType"}],"default":"FULL","title":"Profiletype"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Ressource"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnergyProfile"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/estimates/explanations/{profile_id}":{"get":{"tags":["Dataset estimates"],"summary":"Explain Energy Profile","operationId":"explain_energy_profile_estimates_explanations__profile_id__get","parameters":[{"name":"profile_id","in":"path","required":true,"schema":{"type":"integer","title":"Profile Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Metric Methods"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Explanation"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"EnergyProfile":{"properties":{"identifier":{"type":"string","minLength":1,"format":"uri","title":"Identifier","default":""},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","default":"2024-06-25T10:00:39.026553"},"storedDatasetProfile":{"anyOf":[{"items":{"$ref":"#/components/schemas/StoredDatasetProfile"},"type":"array"},{"type":"null"}],"title":"Storeddatasetprofile"},"operationEnergyProfile":{"anyOf":[{"items":{"$ref":"#/components/schemas/OperationEnergyProfile"},"type":"array"},{"type":"null"}],"title":"Operationenergyprofile"},"totalEnergyConsumption":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Totalenergyconsumption"},"totatCarbonEmission":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Totatcarbonemission"}},"type":"object","title":"EnergyProfile"},"Explanation":{"properties":{"profile_id":{"type":"integer","title":"Profile Id"},"metrics":{"items":{"$ref":"#/components/schemas/Metrics"},"type":"array","title":"Metrics"}},"type":"object","required":["profile_id","metrics"],"title":"Explanation"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Metrics":{"properties":{"metric_id":{"type":"integer","exclusiveMinimum":0.0,"title":"Metric Id"},"metric_method":{"$ref":"#/components/schemas/MetricsMethods"},"metric_result":{"type":"string","maxLength":1000,"minLength":10,"title":"Metric Result"}},"type":"object","required":["metric_id","metric_method","metric_result"],"title":"Metrics"},"MetricsMethods":{"type":"string","enum":["Lime","shap"],"title":"MetricsMethods"},"Operation":{"type":"string","enum":["Atomic_op_append","LSTMModel","count_num_rows","detecting_missing_values","filter_by_spec_cols","groupby_count","groupby_id","identify_outlier","mean","remove_null_values","replace_null_values","select_by_id","union_col","update_atomic_op","update_spe_cols"],"title":"Operation"},"OperationEnergyProfile":{"properties":{"operationName":{"allOf":[{"$ref":"#/components/schemas/Operation"}]},"operationEnergyConsumption":{"type":"number","title":"Operationenergyconsumption","default":0},"operationCarbonEmission":{"type":"number","title":"Operationcarbonemission","default":0}},"type":"object","title":"OperationEnergyProfile"},"ProcessingUnit":{"properties":{"processor":{"type":"string","maxLength":200,"title":"Processor","default":"CPU"},"numberCores":{"type":"integer","exclusiveMinimum":0.0,"title":"Numbercores","default":12},"processorSpeed":{"type":"number","exclusiveMinimum":0.0,"title":"Processorspeed","default":2.7},"processorRam":{"type":"number","exclusiveMinimum":0.0,"title":"Processorram","default":32}},"type":"object","title":"ProcessingUnit"},"ProfileType":{"type":"string","enum":["STORAGE","DPW","FULL"],"title":"ProfileType"},"Ressource":{"properties":{"identifier":{"type":"string","minLength":1,"format":"uri","title":"Identifier","default":"http://dn/db?dataset.uri=ns:///db/SpecificURI.sav"},"localDatasetIdentifier":{"type":"string","maxLength":200,"title":"Localdatasetidentifier","default":"B0006"},"datasetSize":{"type":"number","exclusiveMinimum":0.0,"title":"Datasetsize","default":20},"storageSystem":{"type":"string","maxLength":200,"minLength":0,"title":"Storagesystem","default":"SDD-NVMExpress"},"storageSystemModel":{"type":"string","maxLength":1000,"minLength":0,"title":"Storagesystemmodel","default":"APPLE SSD AP0512Z"},"storageSystemSize":{"type":"number","exclusiveMinimum":0.0,"title":"Storagesystemsize","default":500},"storedDatasetTimeSpan":{"type":"integer","minimum":0.0,"title":"Storeddatasettimespan","default":12},"geographicLocationCountry":{"type":"string","maxLength":200,"title":"Geographiclocationcountry","default":"Ireland"},"processingUnits":{"items":{"$ref":"#/components/schemas/ProcessingUnit"},"type":"array","title":"Processingunits"},"operationsName":{"anyOf":[{"items":{"$ref":"#/components/schemas/Operation"},"type":"array"},{"type":"null"}],"title":"Operationsname","default":["mean"]}},"type":"object","required":["processingUnits"],"title":"Ressource"},"RessourceC":{"properties":{"identifier":{"type":"string","minLength":1,"format":"uri","title":"Identifier","default":"http://dn/db?dataset.uri=ns:///db/SpecificURI.sav"},"localDatasetIdentifier":{"type":"string","maxLength":200,"title":"Localdatasetidentifier","default":"B0006"},"datasetSize":{"type":"number","exclusiveMinimum":0.0,"title":"Datasetsize","default":20},"ipAddress":{"type":"string","format":"ipvanynetwork","title":"Ipaddress","default":"127.0.0.1"},"dataSourcePath":{"type":"string","title":"Datasourcepath","default":"/Volumes/Teck-FMLY-EHD/UPCAST//northeast.csv"},"storageSystem":{"type":"string","maxLength":200,"minLength":0,"title":"Storagesystem","default":"SDD-NVMExpress"},"storageSystemModel":{"type":"string","maxLength":1000,"minLength":0,"title":"Storagesystemmodel","default":"APPLE SSD AP0512Z"},"storageSystemSize":{"type":"number","exclusiveMinimum":0.0,"title":"Storagesystemsize","default":500},"storedDatasetTimeSpan":{"type":"integer","minimum":0.0,"title":"Storeddatasettimespan","default":12},"geographicLocationCountry":{"type":"string","title":"Geographiclocationcountry","default":"Ireland"},"processingUnits":{"items":{"$ref":"#/components/schemas/ProcessingUnit"},"type":"array","title":"Processingunits"},"operationsName":{"anyOf":[{"items":{"$ref":"#/components/schemas/Operation"},"type":"array"},{"type":"null"}],"title":"Operationsname","default":["mean"]}},"type":"object","required":["processingUnits"],"title":"RessourceC"},"StoredDatasetProfile":{"properties":{"storedDatasetEnenrgyConsumption":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Storeddatasetenenrgyconsumption"},"storedDatasetCarbonEmissions":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Storeddatasetcarbonemissions"},"energyIntensity":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Energyintensity"}},"type":"object","title":"StoredDatasetProfile"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
